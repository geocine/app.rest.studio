<div class="container">
    <h1 style="margin-top: 2em;">Import</h1>
    <hr/>

    <div class="row">
        <div class="col-md-4">
            <h4 class="b">Import Options</h4>
            <hr/>
            <p class="text-muted">Paste resource JSON</p>
            <hr/>
            <button class="btn btn-info ion-ios-cloud" (click)="selectPath()"> Select Cloud File</button>
            <hr/>
            <span class="b text-muted">Shared Link</span>
            <textarea class="form-control smaller code" rows="4">https://www.dropbox.com/s/n6m5rwhryott7vv/hello.txt?raw=1</textarea>
            <button class="btn btn-info" style="margin-top: .3em;" (click)="downloadSharedLink()">Download From Shared
                Link
            </button>
            <hr/>
            <status-button [title]="'Hello World'" [loading]="true"></status-button>
        </div>
        <div class="col-md-8">

            <div class="header d-flex justify-content-end p-2">
                <div class="mr-auto">

                </div>
                <div>
                    <button class="btn btn-primary" (click)="importEntity()">Import</button>
                </div>
            </div>

            <text-editor #editor class="bordered" [text]="content" [observeText]="true"
                         [lineNumbers]="true" [maxLines]="40" [wrap]="true"
                         [mode]="'json'" [minLines]="10"
                         (onBlur)="formatJson($event)"></text-editor>
        </div>
    </div>


    <!--<h2>Import From Dropbox</h2>-->
    <!--<input #cloudPathInput class="form-control" [value]="selectedPath"/>-->

    <!--<h3>Dropbox Browser</h3>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>#</th>
            <th>Account Name</th>
            <th>Provider</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let con of (connections$ | async); let i = index;">
            <th scope="row">{{i}}</th>
            <td>{{con.title || con.id}}</td>
            <td>{{con.provider || ('DROPBOX' | rsTitleCase)}}</td>
            <td><a class="ion-ios-folder-outline link" (click)="loadDropboxFiles('', con)">  Select Location</a></td>
        </tr>
        </tbody>
    </table>-->

</div>

<cloud-file-picker #pathPicker [syncAccounts]="syncAccounts$ | async"
                   [fileOnly]="true" [fileExtension]="'.json'"
                   (onPathSelected)="pathSelected($event)"></cloud-file-picker>
